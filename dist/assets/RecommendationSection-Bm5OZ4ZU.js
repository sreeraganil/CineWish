import{a as x,j as s,u as m,b as g,r as p}from"./index-BIPAxvbm.js";const u=({id:l,title:t,release_date:o,name:n,vote_average:i,backdrop_path:a,media_type:e})=>{const r=x(),c=(d,h)=>{r(`/details/${d}/${h}`)};return s.jsxs("div",{className:"relative hover:scale-105 bg-gray-900 border border-gray-800 rounded-xl overflow-hidden shadow hover:shadow-teal-500/10 transition",onClick:()=>c(e,l),children:[s.jsx("img",{src:`https://image.tmdb.org/t/p/w500${a}`,alt:t,className:"w-full h-48 object-cover"}),s.jsxs("div",{className:"p-4 text-white",children:[s.jsx("h3",{className:"text-lg font-semibold mb-1",children:t||n}),s.jsx("p",{className:"text-sm text-gray-400",children:o==null?void 0:o.slice(0,4)}),s.jsxs("p",{className:"text-sm text-teal-400 mt-2",children:["Rating: ",parseFloat(i).toFixed(1)]})]}),s.jsx("span",{className:"absolute top-2 right-2 bg-teal-600 text-white text-[10px] font-semibold px-2 py-0.5 rounded-full uppercase shadow-md",children:e})]})},b=()=>{const{user:l,recommended:t,fetchRecommendations:o}=m(),{fetchWatched:n}=g(),i=async()=>{try{const a=await n(),e=Math.floor(Math.random()*a.length),{type:r,tmdbId:c}=a[e];c&&await o(r,c)}catch(a){console.log(`error in fetching recommendations: ${a==null?void 0:a.message}`)}};return p.useEffect(()=>{(t==null?void 0:t.length)==0&&l&&i()},[]),(t==null?void 0:t.length)==0?null:s.jsx("section",{className:"bg-gray-950 p-4 text-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6 text-teal-400",children:"Recommended For You"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:t==null?void 0:t.map((a,e)=>s.jsx(u,{...a},e))})]})})};export{b as default};
