import{e as f,A as v,c as j,r as c,j as e,B as w,T as y,C as N}from"./index-Dce_IDGO.js";import{s as S}from"./studios-DZKOEhJa.js";const C=f((t,i)=>({studioId:null,items:[],page:1,totalPages:1,loading:!1,scrollPosition:0,setScrollPosition:r=>t({scrollPosition:r}),resetStudio:()=>t({studioId:null,items:[],page:1,totalPages:1}),fetchStudio:async({studioId:r,page:s=1,media:n="movie"})=>{const{loading:o}=i();if(!o){t({loading:!0});try{const{data:a}=await v.get("/tmdb/discover",{params:{media:n,with_companies:r,sort_by:"popularity.desc",page:s}});t(x=>({studioId:r,page:a.page,totalPages:a.total_pages,items:s===1?a.results:[...x.items,...a.results]}))}catch(a){console.error("Failed to fetch studio:",a.message)}finally{t({loading:!1})}}}})),T=()=>{const{id:t}=j(),[i,r]=c.useState("movie"),s=S.find(l=>String(l.id)===t),n=c.useRef(null),{items:o,page:a,totalPages:x,loading:m,fetchStudio:h,resetStudio:g,studioId:p,scrollPosition:u,setScrollPosition:b}=C();return c.useEffect(()=>{if(p==t){setTimeout(()=>{window.scrollTo({top:u,behavior:"instant"})},0);return}window.scrollTo({top:0,behavior:"instant"}),g(),h({studioId:t,page:1,media:i})},[t,i]),c.useEffect(()=>{if(!n.current||m)return;const l=new IntersectionObserver(([d])=>{d.isIntersecting&&a<x&&h({studioId:t,page:a+1})},{rootMargin:"400px"});return l.observe(n.current),()=>l.disconnect()},[a,x,m]),c.useEffect(()=>{document.title=s?`Cinewish â€“ ${s.name}`:"Cinewish â€“ Studio"},[s]),e.jsxs("div",{className:"bg-gray-950 min-h-screen text-white",onClickCapture:()=>b(window.scrollY),children:[e.jsx(w,{title:"Studio"}),e.jsxs("section",{className:"relative overflow-hidden",children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${(s==null?void 0:s.gradient)||"from-gray-900 to-black"} opacity-60`}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(20,184,166,0.1),transparent_50%)]"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 py-12 sm:py-16 md:py-20",children:[(s==null?void 0:s.image)&&e.jsx("div",{className:"mb-6 sm:mb-8 flex justify-center md:justify-start",children:e.jsx("img",{src:s.image,alt:s.name,className:"h-16 sm:h-20 md:h-24 w-auto object-contain drop-shadow-2xl"})}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-3 sm:mb-4 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:(s==null?void 0:s.name)||"Studio"}),e.jsxs("div",{className:"flex flex-wrap gap-3 sm:gap-4 justify-center md:justify-start text-xs sm:text-sm text-gray-300",children:[(s==null?void 0:s.headquarters)&&e.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm px-3 sm:px-4 py-1.5 sm:py-2 rounded-full",children:[e.jsx("span",{className:"material-symbols-outlined text-teal-400",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",children:e.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})})}),e.jsx("span",{className:"truncate max-w-[200px] sm:max-w-none",children:s.headquarters})]}),(s==null?void 0:s.homepage)&&e.jsxs("a",{href:s.homepage,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm px-3 sm:px-4 py-1.5 sm:py-2 rounded-full hover:bg-white/20 transition-colors",children:[e.jsx("span",{className:"material-symbols-outlined text-teal-400",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",children:e.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"})})}),e.jsx("span",{children:"Website"})]})]})]})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-16 sm:h-24 bg-gradient-to-t from-gray-950 to-transparent"})]}),e.jsxs("section",{className:"max-w-7xl mx-auto px-3 sm:px-5 py-6 sm:py-8",children:[e.jsx("div",{className:"flex flex-col gap-4 mb-6 sm:mb-8",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-1 truncate",children:i==="movie"?"Movies":"TV Shows"}),e.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:o.length>0?`${o.length} ${o.length===1?"item":"items"} loaded`:"..."})]}),e.jsxs("div",{className:"relative inline-flex bg-gray-900/50 backdrop-blur-sm rounded-lg p-0.5 border border-gray-800",children:[e.jsx("button",{onClick:()=>{r("movie"),g(),h({studioId:t,page:1,media:"movie"})},className:`px-3 md:px-4 py-1.5 rounded-md text-xs font-medium transition-all duration-200 ${i==="movie"?"bg-teal-500 text-white":"text-gray-400 hover:text-white"}`,children:"Movies"}),e.jsx("button",{onClick:()=>{r("tv"),g(),h({studioId:t,page:1,media:"tv"})},className:`px-3 py-1.5 rounded-md text-xs font-medium transition-all duration-200 ${i==="tv"?"bg-teal-500 text-white":"text-gray-400 hover:text-white"}`,children:"TV"})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 sm:gap-4 md:gap-6",children:[o.map((l,d)=>e.jsx(y,{...l},`${l.id}-${d}`)),m&&Array.from({length:10}).map((l,d)=>e.jsx(N,{},d))]}),!m&&o.length===0&&e.jsxs("div",{className:"text-center py-12 sm:py-20",children:[e.jsx("div",{className:"text-5xl sm:text-6xl mb-3 sm:mb-4",children:"ðŸŽ¬"}),e.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-gray-400 mb-2 px-4",children:["No ",i==="movie"?"movies":"TV shows"," found"]}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-500 px-4",children:["This studio doesn't have any"," ",i==="movie"?"movies":"TV shows"," yet."]})]}),e.jsx("div",{ref:n,className:"h-16 sm:h-20 flex justify-center items-center mt-6 sm:mt-8",children:m&&a>1&&e.jsxs("div",{className:"flex items-center gap-2 text-teal-400",children:[e.jsx("div",{className:"w-2 h-2 bg-teal-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 bg-teal-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 bg-teal-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]})]})};export{T as default};
