import{r,u as X,j as e,C as de,T as me,c as xe,w as he,d as pe,A as K,B as ge,L as f,V as Q}from"./index-Dce_IDGO.js";import{L as ue}from"./Loader-fqv60wXc.js";import{S as fe}from"./SectionSkeleton-CL23g9fm.js";const je=({media:a,id:i})=>{const t=r.useRef(null),h=r.useRef(null),p=r.useRef(null),[_,m]=r.useState(!0),{similar:w,fetchSimilar:j,resetSimilar:N}=X();r.useEffect(()=>{!i||!a||N()},[i,a]),r.useEffect(()=>{var d;if(!(!i||!a))return(d=p.current)==null||d.disconnect(),p.current=new IntersectionObserver(async([o])=>{o.isIntersecting&&(await j(a,i,"recommendations"),m(!1))},{rootMargin:"400px"}),h.current&&p.current.observe(h.current),()=>{var o;return(o=p.current)==null?void 0:o.disconnect()}},[i,a,j]);const g=d=>{const{current:o}=t;if(!o)return;const k=d*o.offsetWidth-250;o.scrollBy({left:k,behavior:"smooth"})};return _?e.jsxs(e.Fragment,{children:[e.jsx("span",{ref:h,className:"block h-1"}),e.jsx(fe,{title:`Similar ${a==="tv"?"TV Shows":"Movies"}`,CardSkeleton:de})]}):e.jsx(e.Fragment,{children:w.length&&e.jsxs("div",{className:"st",children:[e.jsx("span",{ref:h,className:"block h-1"}),e.jsx("section",{className:"bg-gray-950 p-4 text-white relative",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4 text-teal-400",children:`Similar ${a==="tv"?"TV Shows":"Movies"}`}),e.jsxs("div",{className:"relative group/button",children:[e.jsx("button",{onClick:()=>g(-1),className:"hidden absolute sm:flex justify-center items-center left-0 top-1/2 -translate-y-1/2 z-10 bg-teal-500 bg-opacity-75 hover:bg-opacity-100 hover:scale-105 transition p-2 rounded-full opacity-0 group-hover/button:opacity-100",children:e.jsx("span",{className:"material-symbols-outlined",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",children:e.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})})}),e.jsx("button",{onClick:()=>g(1),className:"hidden absolute sm:flex justify-center items-center right-0 top-1/2 -translate-y-1/2 z-10 bg-teal-500 bg-opacity-75 hover:bg-opacity-100 hover:scale-105 transition p-2 rounded-full opacity-0 group-hover/button:opacity-100",children:e.jsx("span",{className:"material-symbols-outlined",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",children:e.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})})})}),e.jsx("div",{ref:t,className:"flex gap-4 overflow-x-auto scrollbar-hide scroll-smooth px-2 md:px-5",children:w.map(d=>e.jsx(me,{...d},`${d.id}-${a}`))})]})]})})]})})},Ne=()=>{var V,D,F,P,O,U,G,Y,q,H;const{media:a,id:i}=xe(),[t,h]=r.useState(null),[p,_]=r.useState(!0),[m,w]=r.useState(!1),[j,N]=r.useState(!1),[g,d]=r.useState(1),o=r.useRef(),{addToWishlist:k}=he(),{user:$}=X(),[Z,A]=r.useState(!1),{hash:E}=pe(),ee=E==null?void 0:E.slice(1);r.useEffect(()=>{window.scrollTo({top:0,behavior:"instant"}),document.title=`CineWish - ${(t==null?void 0:t.title)||(t==null?void 0:t.name)||"Loading..."}`},[t,i]),r.useEffect(()=>{$&&L()},[i,$]);const te=()=>{A(!0),setTimeout(()=>{A(!1),i==66732&&o.current.classList.toggle("stranger-things")},800)},L=async()=>{try{const{data:s}=await K.get(`/wishlist/check/${i}`);w(!!s.exists)}catch(s){console.error("Wishlist check failed:",s)}},C=async s=>{var l;try{N(!0),await k({tmdbId:t.id,title:t.title||t.name,type:a,poster:t.poster_path,year:new Date(t.release_date||t.first_air_date).getFullYear(),genre:((l=t.genres)==null?void 0:l.map(c=>c.name))??[],rating:t.imdbRating||t.vote_average,status:s}),Q.success(`Added to ${s==="towatch"?"wishlist":"watched list"}`),L()}catch{Q.error("Failed to add")}finally{N(!1)}};r.useEffect(()=>{const s=document.getElementById(ee);s&&s.scrollIntoView({behavior:"smooth",block:"start"})},[t]),r.useEffect(()=>{(async()=>{try{const{data:l}=await K.get(`/tmdb/details/${a}/${i}`);h(l)}catch(l){console.error("Failed to fetch details:",l)}finally{_(!1)}})()},[a,i]);const se=s=>{const l=Number(s==null?void 0:s.toString().replace(/,/g,""));return l?l>=1e6?`${(l/1e6).toFixed(1)}M`:l>=1e3?`${(l/1e3).toFixed(1)}k`:l.toString():"0"},ae=s=>{if(!s||s.length===0)return null;const l=s.reduce((c,u)=>c+u,0)/s.length;return`${Math.round(l)} min (Avg)`},le=s=>{d(l=>l===s?null:s)};if(p)return e.jsx("div",{className:"h-screen",children:e.jsx(ue,{})});if(!t)return e.jsx("div",{className:"h-screen flex items-center justify-center text-white",children:"Failed to load details"});const ie="https://image.tmdb.org/t/p/original",S=a==="tv"?(V=t.aggregate_credits)==null?void 0:V.cast:(D=t.credits)==null?void 0:D.cast,re=a==="tv"?(F=t.aggregate_credits)==null?void 0:F.crew:(P=t.credits)==null?void 0:P.crew,M=(S==null?void 0:S.slice(0,8))??[],T=re??[],y=T.find(s=>s.job==="Director"),x=a==="tv"?t.created_by:null,b=T.filter(s=>s.job==="Original Music Composer"),v=T.filter(s=>s.job==="Producer").slice(0,3),R=t.imdbRating>0?t.imdbRating:t.vote_average,ne=t.imdbRating>0?t.imdbVotes:t.vote_count,B=t.imdbRating>0,I=((O=t.watchProviders)==null?void 0:O.flatrate)||[],z=((U=t.watchProviders)==null?void 0:U.rent)||[],W=((G=t.watchProviders)==null?void 0:G.buy)||[],oe=I.length>0||z.length>0||W.length>0;return e.jsxs("div",{ref:o,children:[e.jsx(ge,{title:"Details"}),i==66732&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed bottom-15 left-1/2 -translate-x-1/2 z-50",children:e.jsx("button",{className:"rift-button","aria-label":"Enter the Upside Down",onClick:te})}),e.jsx("div",{className:`
    fixed inset-0 z-40
    pointer-events-none
    ${Z?"portal-open":"portal-close"}
  `,style:{background:"radial-gradient(circle at 50% 85%, #ef4444 0%, #b91c1c 35%, #7f1d1d 65%, #450a0a 100%)",transformOrigin:"50% 85%"}})]}),e.jsxs("div",{className:"fixed inset-0 -z-10 w-full st",children:[e.jsx("img",{src:t.backdrop_path?`https://image.tmdb.org/t/p/original/${t.backdrop_path}`:"https://via.placeholder.com/1280x720",alt:t.title||t.name,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/80 to-black"})]}),e.jsxs("div",{className:"relative z-10 max-w-5xl mx-auto p-6 text-white",children:[R>0&&e.jsxs("div",{className:`absolute right-6 top-2 px-3 py-1 rounded-lg font-semibold text-xs sm:text-lg st ${B?"bg-[#f5c518] text-black":"bg-[#032541] text-white"}`,children:[B?"IMDb":"TMDB"," ",R.toFixed(1)," (",se(ne),")"]}),e.jsx("h1",{className:`text-2xl sm:text-4xl font-bold st title pt-5 ${!t.tagline&&"mb-6"}`,children:t.title||t.name}),t.tagline&&e.jsxs("p",{className:"italic text-gray-300 mb-6 st",children:['"',t.tagline,'"']}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start pb-1 st",children:[e.jsx("div",{className:"flex-shrink-0 mx-auto md:mx-0",children:e.jsx("img",{src:t.poster_path?`https://image.tmdb.org/t/p/w500${t.poster_path}`:"https://via.placeholder.com/300x450",alt:t.title||t.name,loading:"eager",className:"w-48 sm:w-56 md:w-64 aspect-[2/3] rounded-xl shadow-2xl"})}),e.jsxs("div",{className:"flex-1 space-y-4",children:[t.overview&&e.jsx("p",{className:"text-sm sm:text-base text-gray-300 leading-relaxed",children:t.overview}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-x-6 gap-y-2.5 text-sm",children:[t.release_date&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Release:"})," ",e.jsx("span",{className:"text-white font-medium",children:t.release_date})]}),t.first_air_date&&a==="tv"&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"First Aired:"})," ",e.jsx("span",{className:"text-white font-medium",children:t.first_air_date})]}),a==="movie"&&t.runtime>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Runtime:"})," ",e.jsxs("span",{className:"text-white font-medium",children:[t.runtime," min"]})]}),a==="tv"&&((Y=t.episode_run_time)==null?void 0:Y.length)>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Episode:"})," ",e.jsx("span",{className:"text-white font-medium",children:ae(t.episode_run_time)})]}),a==="tv"&&t.number_of_seasons>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Seasons:"})," ",e.jsx("span",{className:"text-white font-medium",children:t.number_of_seasons})]}),a==="tv"&&t.number_of_episodes>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Episodes:"})," ",e.jsx("span",{className:"text-white font-medium",children:t.number_of_episodes})]}),t.budget>0&&a==="movie"&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Budget:"})," ",e.jsxs("span",{className:"text-white font-medium",children:["$",t.budget.toLocaleString()]})]}),t.revenue>0&&a==="movie"&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Revenue:"})," ",e.jsxs("span",{className:"text-white font-medium",children:["$",t.revenue.toLocaleString()]})]}),t.status&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Status:"})," ",e.jsx("span",{className:"text-white font-medium",children:t.status})]})]}),((q=t.genres)==null?void 0:q.length)>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400 text-sm",children:"Genres:"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1.5",children:t.genres.map(s=>e.jsx("span",{className:"bg-teal-500/20 text-teal-300 px-2.5 py-1 rounded-md text-xs font-medium border border-teal-500/30",children:s.name},s.id))})]}),!!(y||x!=null&&x.length||b!=null&&b.length||v!=null&&v.length)&&e.jsxs("div",{className:"text-sm space-y-1.5 pt-2",children:[a==="tv"&&(x==null?void 0:x.length)>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Created By:"})," ",e.jsx("span",{className:"text-white font-medium",children:x.map(s=>s.name).join(", ")})]}),a==="movie"&&y&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Director:"})," ",e.jsx(f,{to:`/people/${y.id}`,className:"text-teal-500 underline font-medium",children:y.name})]}),b.length>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Music:"})," ",e.jsx("span",{className:"text-white font-medium",children:b.map(s=>s.name).join(", ")})]}),v.length>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Producers:"})," ",e.jsx("span",{className:"text-white font-medium",children:v.map(s=>s.name).join(", ")})]})]}),$&&e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2.5 pt-3",children:[e.jsxs("button",{onClick:()=>C("towatch"),disabled:m||j,className:`flex items-center disabled:bg-gray-700 disabled:text-gray-400 disabled:cursor-not-allowed justify-center gap-2 px-4 py-2.5 rounded-lg font-medium text-sm transition-all ${m?"bg-gray-700 text-gray-400 cursor-not-allowed":"bg-teal-600 hover:bg-teal-700 text-white"}`,children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:m?"M5 13l4 4L19 7":"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})}),e.jsx("span",{className:"truncate",children:m?"In Wishlist":"Add to Wishlist"})]}),!m&&e.jsxs("button",{onClick:()=>C("watched"),disabled:j,className:"flex items-center justify-center disabled:bg-gray-700 disabled:text-gray-400 disabled:cursor-not-allowed gap-2 px-4 py-2.5 rounded-lg font-medium text-sm bg-teal-600 hover:bg-teal-700 text-white transition-all",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"truncate",children:"Mark as Watched"})]}),a==="tv"?e.jsxs("span",{onClick:()=>{const s=document.getElementById("s01e01");s&&s.scrollIntoView({behavior:"smooth",block:"start"})},className:"flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg font-medium text-sm bg-amber-500 hover:bg-amber-600 text-black transition-all",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})}),e.jsx("span",{className:"truncate",children:"Watch"})]}):e.jsxs(f,{to:`/watch/${a}/${i}`,state:{title:t.title||t.name,poster:t.poster_path?`https://image.tmdb.org/t/p/w500${t.poster_path}`:"/placeholder.png",backdrop:t.backdrop_path?`https://image.tmdb.org/t/p/w500${t.backdrop_path}`:"/placeholder.png",mediaType:a,mediaId:i},className:"flex items-center justify-center gap-2 px-4 py-2.5 rounded-lg font-medium text-sm bg-amber-500 hover:bg-amber-600 text-black transition-all",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z"})}),e.jsx("span",{className:"truncate",children:"Watch"})]})]})]})]}),oe&&e.jsxs("div",{className:"pt-6 space-y-6 border-t border-gray-700/50 st",children:[e.jsxs("h3",{className:"text-lg md:text-xl font-bold text-teal-400 flex items-center",children:[e.jsx("i",{className:"fas fa-tv mr-2"})," Watch Options"]}),e.jsx("div",{className:"space-y-3",children:[{title:"STREAM",data:I},{title:"RENT",data:z},{title:"BUY",data:W}].map(s=>s.data.length>0&&e.jsx("div",{className:"bg-gradient-to-br from-gray-800/60 to-gray-900/40 rounded-xl border border-gray-700/30 backdrop-blur-sm hover:border-gray-600/50 transition-all duration-300 overflow-hidden",children:e.jsxs("div",{className:"flex items-stretch",children:[e.jsx("div",{className:"flex-shrink-0 bg-teal-600 flex items-center justify-center w-5 md:w-6",children:e.jsx("span",{className:"text-white font-black text-[10px] md:text-[12px] tracking-widest whitespace-nowrap",style:{writingMode:"vertical-rl",transform:"rotate(180deg)"},children:s.title})}),e.jsx("div",{className:"flex-1 p-3 md:p-4",children:e.jsx("div",{className:"grid grid-cols-4 xs:grid-cols-5 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 xl:grid-cols-12 gap-3 md:gap-4",children:s.data.map(l=>e.jsxs(f,{to:`/provider/${l.provider_id}`,className:"group flex flex-col items-center justify-start text-center cursor-pointer",children:[e.jsxs("div",{className:"relative w-full aspect-square max-w-[50px] md:max-w-[60px] mx-auto",children:[e.jsx("img",{src:`${ie}${l.logo_path}`,alt:l.provider_name,className:"w-full h-full object-cover rounded-lg shadow-md transition-all duration-300 group-hover:scale-110 group-hover:shadow-lg group-hover:shadow-teal-500/20 ring-0 group-hover:ring-2 group-hover:ring-teal-400/50",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-teal-500/0 group-hover:bg-teal-500/10 rounded-lg transition-all duration-300"})]}),e.jsx("p",{className:"mt-1.5 text-[10px] md:text-xs text-gray-300 group-hover:text-teal-300 transition-colors duration-200 w-full line-clamp-2 leading-tight font-medium",children:l.provider_name})]},l.provider_id))})})]})},s.title))})]}),a==="tv"&&(t.lastEpisodeToAir||t.nextEpisodeToAir)&&e.jsxs("div",{className:"pt-8 bg-gray-900/50 p-4 rounded-lg mt-4 st",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Episode Status"}),t.nextEpisodeToAir&&e.jsxs("p",{className:"text-sm mb-2",children:[e.jsx("span",{className:"text-teal-400 font-medium",children:"Next Episode:"})," ","S",t.nextEpisodeToAir.season_number,"E",t.nextEpisodeToAir.episode_number," -"," ",t.nextEpisodeToAir.name," (Airs on"," ",t.nextEpisodeToAir.air_date,")"]}),t.lastEpisodeToAir&&e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-400",children:"Last Episode:"})," S",t.lastEpisodeToAir.season_number,"E",t.lastEpisodeToAir.episode_number," -"," ",t.lastEpisodeToAir.name," (Aired on"," ",t.lastEpisodeToAir.air_date,")"]})]}),a==="movie"&&t.belongs_to_collection&&e.jsxs("div",{className:"pt-8",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Collection"}),e.jsxs(f,{to:`/collection/${t.belongs_to_collection.id}`,className:"flex items-center gap-4 bg-gray-900/50 p-4 rounded-lg hover:bg-gray-800 transition",children:[e.jsx("img",{src:t.belongs_to_collection.poster_path?`https://image.tmdb.org/t/p/w200${t.belongs_to_collection.poster_path}`:"/placeholder.png",className:"w-20 rounded object-cover",alt:`${t.belongs_to_collection.name} poster`,loading:"lazy"}),e.jsx("p",{className:"text-white font-medium",children:t.belongs_to_collection.name})]})]}),M.length>0&&e.jsxs("div",{className:"pt-8 st",children:[e.jsx("h3",{className:"text-xl font-bold text-teal-400 mb-4",children:"Top Cast"}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-8 gap-3 sm:gap-4",children:M.map(s=>{var l,c;return e.jsxs(f,{to:`/people/${s.id}`,className:"group",children:[e.jsx("div",{className:"relative overflow-hidden rounded-lg mb-2 bg-gray-800",children:e.jsx("img",{src:`https://image.tmdb.org/t/p/w185${s.profile_path}`,alt:s.name,onError:u=>{u.currentTarget.src="/placeholder.png"},className:"aspect-[2/3] w-full object-cover group-hover:scale-110 transition-transform duration-300",loading:"lazy"})}),e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-white leading-tight mb-0.5 truncate",children:s.name}),e.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 leading-tight truncate",children:a==="tv"?(c=(l=s.roles)==null?void 0:l[0])==null?void 0:c.character:s.character})]},s.id||s.credit_id)})})]}),a==="tv"&&((H=t.episodes)==null?void 0:H.length)>0&&e.jsxs("div",{className:"pt-8 st",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Seasons (",t.episodes.length,")"]}),e.jsx("div",{className:"space-y-4",children:t.episodes.map(s=>{var c,u,J;const l=g===s.season_number;return e.jsxs("div",{className:"bg-gray-800/70 rounded-lg overflow-hidden",children:[e.jsxs("div",{onClick:()=>le(s.season_number),className:"relative p-4 flex gap-4 items-center cursor-pointer hover:bg-gray-700/50 transition",children:[e.jsx("img",{src:s.poster_path?`https://image.tmdb.org/t/p/w185${s.poster_path}`:"https://via.placeholder.com/100x150",alt:s.name,className:"w-16 h-24 object-cover rounded-md flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-lg",children:s.name}),e.jsxs("p",{className:"text-sm text-gray-300",children:[((c=s.air_date)==null?void 0:c.slice(0,4))??"—"," •"," ",((u=s.episodes)==null?void 0:u.length)??0," Episodes"]}),e.jsx("p",{className:"text-xs mt-2 line-clamp-2",children:s.overview||"No overview available."})]}),e.jsx("span",{className:"material-symbols-outlined text-xl",children:l?e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",children:e.jsx("path",{d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"})}):e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",children:e.jsx("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})})})]}),l&&((J=s.episodes)==null?void 0:J.length)>0&&e.jsx("div",{className:"w-full md:w-[95%] lg:w-[90%] ml-auto border-t border-gray-700 divide-y divide-gray-700",children:s.episodes.map((n,ce)=>e.jsxs("div",{className:"hover:bg-gray-700/40 flex flex-col md:flex-row md:items-center justify-between p-4 gap-4 scroll-mt-32",id:`s01e0${ce+1}`,children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[e.jsx("img",{src:n.still_path?`https://image.tmdb.org/t/p/w300${n.still_path}`:"/placeholder.png",alt:n.name,className:"w-full sm:w-32 md:w-40 aspect-video object-cover rounded shadow-md"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-center justify-between mb-1",children:e.jsxs("p",{className:"text-sm md:text-base font-semibold truncate",children:["E",n.episode_number," • ",n.name]})}),e.jsxs("p",{className:"text-xs text-gray-400 mb-2",children:[n.air_date??"TBA",n.runtime?` • ${n.runtime} min`:""]}),n.overview&&e.jsx("p",{className:"text-xs line-clamp-2 md:line-clamp-3 text-gray-300 leading-relaxed",children:n.overview})]})]}),e.jsx(f,{className:"flex items-center justify-center gap-2 bg-teal-600 hover:bg-teal-700 text-xs md:text-sm text-white px-4 py-2 md:py-1.5 rounded transition-colors whitespace-nowrap font-medium w-full md:w-auto",state:{title:t.title||t.name,poster:t.poster_path?`https://image.tmdb.org/t/p/w500${t.poster_path}`:"/placeholder.png",backdrop:n.still_path?`https://image.tmdb.org/t/p/w185${n.still_path}`:"/placeholder.png",mediaType:a,mediaId:i},to:`/watch/${a}/${i}/${g}/${n.episode_number}`,children:e.jsxs("span",{children:["Watch S",g,"E",n.episode_number]})})]},n.id))})]},s._id)})})]})]}),e.jsx(je,{media:a,id:i},t==null?void 0:t.id)]})};export{Ne as default};
