import{e as b,A as v,c as j,r as c,j as e}from"./index-CZzhZSbx.js";import{T as y}from"./TrendingCard-CFxaXnAR.js";import{C as w}from"./CardSkeleton-BdTlfYOo.js";import{s as N}from"./studios-DE1fLxp5.js";import{B as S}from"./BackHeader-BbS-zjJy.js";const k=b((s,i)=>({studioId:null,items:[],page:1,totalPages:1,loading:!1,scrollPosition:0,setScrollPosition:r=>s({scrollPosition:r}),resetStudio:()=>s({studioId:null,items:[],page:1,totalPages:1}),fetchStudio:async({studioId:r,page:t=1,media:n="movie"})=>{const{loading:o}=i();if(!o){s({loading:!0});try{const{data:a}=await v.get("/tmdb/discover",{params:{media:n,with_companies:r,sort_by:"popularity.desc",page:t}});s(x=>({studioId:r,page:a.page,totalPages:a.total_pages,items:t===1?a.results:[...x.items,...a.results]}))}catch(a){console.error("Failed to fetch studio:",a.message)}finally{s({loading:!1})}}}})),$=()=>{const{id:s}=j(),[i,r]=c.useState("movie"),t=N.find(l=>String(l.id)===s),n=c.useRef(null),{items:o,page:a,totalPages:x,loading:m,fetchStudio:g,resetStudio:p,studioId:h,scrollPosition:u,setScrollPosition:f}=k();return c.useEffect(()=>{if(h==s){setTimeout(()=>{window.scrollTo({top:u,behavior:"instant"})},0);return}window.scrollTo({top:0,behavior:"instant"}),p(),g({studioId:s,page:1,media:i})},[s,i]),c.useEffect(()=>{if(!n.current||m)return;const l=new IntersectionObserver(([d])=>{d.isIntersecting&&a<x&&g({studioId:s,page:a+1})},{rootMargin:"400px"});return l.observe(n.current),()=>l.disconnect()},[a,x,m]),c.useEffect(()=>{document.title=t?`Cinewish â€“ ${t.name}`:"Cinewish â€“ Studio"},[t]),e.jsxs("div",{className:"bg-gray-950 min-h-screen text-white",onClickCapture:()=>f(window.scrollY),children:[e.jsx(S,{title:"Studio"}),e.jsxs("section",{className:"relative overflow-hidden",children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${(t==null?void 0:t.gradient)||"from-gray-900 to-black"} opacity-60`}),e.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(20,184,166,0.1),transparent_50%)]"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 py-12 sm:py-16 md:py-20",children:[(t==null?void 0:t.image)&&e.jsx("div",{className:"mb-6 sm:mb-8 flex justify-center md:justify-start",children:e.jsx("img",{src:t.image,alt:t.name,className:"h-16 sm:h-20 md:h-24 w-auto object-contain drop-shadow-2xl"})}),e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-bold mb-3 sm:mb-4 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:(t==null?void 0:t.name)||"Studio"}),e.jsxs("div",{className:"flex flex-wrap gap-3 sm:gap-4 justify-center md:justify-start text-xs sm:text-sm text-gray-300",children:[(t==null?void 0:t.headquarters)&&e.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm px-3 sm:px-4 py-1.5 sm:py-2 rounded-full",children:[e.jsx("span",{className:"material-symbols-outlined text-teal-400",children:"location_on"}),e.jsx("span",{className:"truncate max-w-[200px] sm:max-w-none",children:t.headquarters})]}),(t==null?void 0:t.homepage)&&e.jsxs("a",{href:t.homepage,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm px-3 sm:px-4 py-1.5 sm:py-2 rounded-full hover:bg-white/20 transition-colors",children:[e.jsx("span",{className:"material-symbols-outlined text-teal-400",children:"link_2"}),e.jsx("span",{children:"Website"})]})]})]})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-16 sm:h-24 bg-gradient-to-t from-gray-950 to-transparent"})]}),e.jsxs("section",{className:"max-w-7xl mx-auto px-3 sm:px-5 py-6 sm:py-8",children:[e.jsx("div",{className:"flex flex-col gap-4 mb-6 sm:mb-8",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-1 truncate",children:i==="movie"?"Movies":"TV Shows"}),e.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:o.length>0?`${o.length} ${o.length===1?"item":"items"} loaded`:"..."})]}),e.jsxs("div",{className:"relative inline-flex bg-gray-900/50 backdrop-blur-sm rounded-lg p-0.5 border border-gray-800",children:[e.jsx("button",{onClick:()=>{r("movie"),p(),g({studioId:s,page:1,media:"movie"})},className:`px-3 md:px-4 py-1.5 rounded-md text-xs font-medium transition-all duration-200 ${i==="movie"?"bg-teal-500 text-white":"text-gray-400 hover:text-white"}`,children:"Movies"}),e.jsx("button",{onClick:()=>{r("tv"),p(),g({studioId:s,page:1,media:"tv"})},className:`px-3 py-1.5 rounded-md text-xs font-medium transition-all duration-200 ${i==="tv"?"bg-teal-500 text-white":"text-gray-400 hover:text-white"}`,children:"TV"})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-3 sm:gap-4 md:gap-6",children:[o.map((l,d)=>e.jsx(y,{...l},`${l.id}-${d}`)),m&&Array.from({length:10}).map((l,d)=>e.jsx(w,{},d))]}),!m&&o.length===0&&e.jsxs("div",{className:"text-center py-12 sm:py-20",children:[e.jsx("div",{className:"text-5xl sm:text-6xl mb-3 sm:mb-4",children:"ðŸŽ¬"}),e.jsxs("h3",{className:"text-lg sm:text-xl font-semibold text-gray-400 mb-2 px-4",children:["No ",i==="movie"?"movies":"TV shows"," found"]}),e.jsxs("p",{className:"text-sm sm:text-base text-gray-500 px-4",children:["This studio doesn't have any ",i==="movie"?"movies":"TV shows"," yet."]})]}),e.jsx("div",{ref:n,className:"h-16 sm:h-20 flex justify-center items-center mt-6 sm:mt-8",children:m&&a>1&&e.jsxs("div",{className:"flex items-center gap-2 text-teal-400",children:[e.jsx("div",{className:"w-2 h-2 bg-teal-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 bg-teal-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 bg-teal-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]})]})};export{$ as default};
